# 塔罗牌测算网站产品需求文档 (PRD)

## 1. 项目概述

### 1.1 项目背景
塔罗牌是一种古老的占卜工具，通过抽取不同的卡牌组合来帮助人们获得对生活各方面的指导和启示。本项目旨在创建一个在线塔罗牌测算平台，让用户能够方便地进行塔罗牌占卜。

### 1.2 产品定位
一个专业、易用、美观的在线塔罗牌测算平台，为用户提供准确的塔罗牌解读和指导。

### 1.3 目标用户
- 对塔罗牌感兴趣的初学者
- 有一定塔罗牌知识的使用者
- 寻求生活指导和建议的用户
- 喜欢神秘学和占卜的用户群体

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 塔罗牌牌库管理
- **78张经典塔罗牌**：包含22张大阿尔卡那牌和56张小阿尔卡那牌
- **正逆位支持**：每张牌都有正位和逆位两种状态及对应解读
- **牌面展示**：高质量的塔罗牌牌面图片展示
- **详细信息**：每张牌包含名称、牌面描述、核心含义、爱情解读、事业解读、财运解读等

#### 2.1.2 牌阵系统
- **经典牌阵选择**：
  - 三张牌牌阵（过去-现在-未来）
  - 圣三角牌阵
  - 凯尔特十字牌阵
  - 星光牌阵（六芒星）
  - 马蹄铁牌阵
  - 生命之树牌阵
- **牌阵介绍**：每种牌阵的用途、适用场景和结构说明
- **可视化牌阵**：牌阵布局的图形化展示

#### 2.1.3 抽牌功能
- **随机抽牌**：用户点击进行随机抽牌
- **牌阵自动布局**：根据选择的牌阵自动排列卡牌
- **正逆位随机**：系统自动决定每张牌的正逆位状态
- **抽牌动画**：流畅的抽牌和洗牌动画效果

#### 2.1.4 解读系统
- **问题分类**：用户可选择占卜领域（事业/财富/亲密关系/健康/其他）
- **智能解读**：根据牌阵位置、卡片含义和问题领域生成个性化解读
- **位置含义**：每个牌阵位置的具体解释
- **整体分析**：对整个牌阵的综合分析和建议

#### 2.1.5 历史记录
- **测算历史**：保存用户的测算记录
- **收藏功能**：用户可收藏有意义的测算结果
- **分享功能**：支持分享测算结果到社交媒体

### 2.2 辅助功能

#### 2.2.1 用户系统
- **注册登录**：用户账号管理
- **个人资料**：用户信息管理
- **测算记录**：个人测算历史

#### 2.2.2 教育功能
- **塔罗牌基础知识**：塔罗牌历史、使用方法等
- **牌意查询**：按关键词搜索塔罗牌含义
- **占卜技巧**：塔罗牌占卜的基本方法和技巧

## 3. 用户界面和体验

### 3.1 页面结构

#### 3.1.1 首页
- **牌阵选择**：主要牌阵的可视化选择界面
- **快速开始**：一键开始简单测算
- **牌阵介绍**：各种牌阵的用途说明
- **导航菜单**：其他功能模块入口

#### 3.1.2 牌阵选择页面
- **牌阵展示**：以卡片形式展示各种牌阵
- **适用场景**：每种牌阵的适用情况说明
- **选择确认**：用户选择后进入抽牌环节

#### 3.1.3 抽牌页面
- **牌阵布局**：显示选定的牌阵结构
- **抽牌区域**：用户点击进行抽牌
- **进度提示**：显示抽牌进度
- **重新开始**：重新抽牌的选项

#### 3.1.4 解读结果页面
- **牌阵展示**：完整的牌阵可视化
- **卡片详情**：每张卡的详细信息和含义
- **问题分类**：选择占卜领域
- **解读内容**：针对每个位置的详细解读
- **整体分析**：牌阵的综合分析
- **操作按钮**：保存、分享、重新测算

### 3.2 设计风格
- **神秘主题**：深色背景配合金色或紫色元素
- **优雅排版**：清晰易读的字体和合理的间距
- **视觉效果**：适当的动画和过渡效果
- **响应式设计**：适配不同设备屏幕

## 4. 技术实现

### 4.1 前端技术栈
- **框架**：React.js 或 Vue.js
- **UI组件库**：Material-UI 或 Ant Design
- **样式**：CSS3 + SASS/LESS
- **动画**：Framer Motion 或 CSS Animations
- **图片处理**：WebP格式图片，懒加载

### 4.2 后端技术栈
- **服务器**：Node.js + Express.js
- **数据库**：MongoDB 或 PostgreSQL
- **认证**：JWT Token
- **API设计**：RESTful API

### 4.3 数据结构设计

#### 4.3.1 塔罗牌数据结构
```javascript
{
  "id": "string",
  "name": "string",
  "nameEn": "string",
  "type": "major|minor",
  "suit": "wands|cups|swords|pentacles",
  "number": "number",
  "image": "string",
  "upright": {
    "keywords": ["string"],
    "meaning": "string",
    "love": "string",
    "career": "string",
    "finance": "string",
    "health": "string"
  },
  "reversed": {
    "keywords": ["string"],
    "meaning": "string",
    "love": "string",
    "career": "string",
    "finance": "string",
    "health": "string"
  }
}
```

#### 4.3.2 牌阵数据结构
```javascript
{
  "id": "string",
  "name": "string",
  "nameEn": "string",
  "description": "string",
  "image": "string",
  "cardCount": "number",
  "positions": [
    {
      "id": "string",
      "name": "string",
      "meaning": "string",
      "position": {"x": "number", "y": "number"}
    }
  ]
}
```

### 4.4 核心算法

#### 4.4.1 随机抽牌算法
```javascript
function drawCards(cardCount, deck) {
  const shuffled = shuffleArray([...deck]);
  const drawnCards = shuffled.slice(0, cardCount);
  return drawnCards.map(card => ({
    ...card,
    isReversed: Math.random() > 0.5
  }));
}
```

#### 4.4.2 解读生成算法
```javascript
function generateInterpretation(cards, spread, category) {
  return cards.map((card, index) => {
    const position = spread.positions[index];
    const meaning = card.isReversed ? card.reversed : card.upright;
    const categoryMeaning = meaning[category] || meaning.meaning;

    return {
      position: position.name,
      positionMeaning: position.meaning,
      card: card.name,
      isReversed: card.isReversed,
      interpretation: `${position.meaning}：${categoryMeaning}`
    };
  });
}
```

## 5. 开发计划

### 5.1 第一阶段：核心功能（4-6周）
- 塔罗牌数据结构设计和录入
- 基础牌阵实现
- 抽牌功能开发
- 基础解读功能

### 5.2 第二阶段：用户体验优化（2-3周）
- 界面美化和动画效果
- 响应式设计
- 用户体验优化

### 5.3 第三阶段：高级功能（3-4周）
- 用户系统开发
- 历史记录功能
- 分享和收藏功能

### 5.4 第四阶段：完善和上线（2-3周）
- 测试和bug修复
- 性能优化
- 部署和上线

## 6. 运营和维护

### 6.1 内容维护
- 塔罗牌解读内容的定期更新
- 新牌阵的添加
- 用户反馈的收集和处理

### 6.2 技术维护
- 服务器监控和维护
- 数据备份和安全
- 性能监控和优化

### 6.3 用户运营
- 用户反馈收集
- 功能需求调研
- 社区运营和互动

## 7. 成功指标

### 7.1 用户指标
- 日活跃用户数
- 用户留存率
- 平均使用时长
- 测算完成率

### 7.2 技术指标
- 页面加载速度
- 系统稳定性
- 错误率
- 用户满意度

## 8. 风险评估

### 8.1 技术风险
- 图片资源获取和处理
- 随机算法的公平性
- 数据安全性和隐私保护

### 8.2 内容风险
- 塔罗牌解读的准确性
- 用户依赖性问题
- 文化敏感性

### 8.3 运营风险
- 用户获取成本
- 竞争对手分析
- 法律合规性

---

## 9. 附录

### 9.1 塔罗牌列表
#### 大阿尔卡那牌（22张）
0. 愚者 (The Fool)
1. 魔术师 (The Magician)
2. 女祭司 (The High Priestess)
3. 皇后 (The Empress)
4. 皇帝 (The Emperor)
5. 教皇 (The Hierophant)
6. 恋人 (The Lovers)
7. 战车 (The Chariot)
8. 力量 (Strength)
9. 隐士 (The Hermit)
10. 命运之轮 (Wheel of Fortune)
11. 正义 (Justice)
12. 倒吊人 (The Hanged Man)
13. 死神 (Death)
14. 节制 (Temperance)
15. 恶魔 (The Devil)
16. 塔 (The Tower)
17. 星星 (The Star)
18. 月亮 (The Moon)
19. 太阳 (The Sun)
20. 审判 (Judgement)
21. 世界 (The World)

#### 小阿尔卡那牌（56张）
- 权杖 (Wands)：1-10、侍从、骑士、皇后、国王
- 圣杯 (Cups)：1-10、侍从、骑士、皇后、国王
- 宝剑 (Swords)：1-10、侍从、骑士、皇后、国王
- 星币 (Pentacles)：1-10、侍从、骑士、皇后、国王

### 9.2 经典牌阵说明

#### 三张牌牌阵
- **结构**：左中右三张牌
- **含义**：过去-现在-未来
- **用途**：快速了解问题的现状和发展趋势

#### 圣三角牌阵
- **结构**：三角形排列的三张牌
- **含义**：意识-潜意识-行动建议
- **用途**：分析问题深层原因和解决方案

#### 凯尔特十字牌阵
- **结构**：10张牌的复杂布局
- **含义**：核心问题、影响因素、建议、结果
- **用途**：全面分析复杂问题和长期趋势

#### 星光牌阵
- **结构**：六芒星形状的7张牌
- **含义**：当前状况、挑战、建议、过去、未来、内在状态、外在表现
- **用途**：全面分析人生各方面的平衡

### 9.3 技术架构图
（此处应包含系统架构图、数据流程图等）

### 9.4 原型设计
（此处应包含网站原型设计图）