<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中文取名神器 - 智能起名助手</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .form-card {
            background: white;
            border-radius: 16px;
            padding: 30px 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
            font-size: 14px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .generate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
            margin-top: 10px;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
        }

        .generate-btn:active {
            transform: translateY(0);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .result-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .result-card.show {
            display: block;
        }

        .result-title {
            text-align: center;
            margin-bottom: 25px;
            color: #667eea;
            font-size: 18px;
            font-weight: 600;
        }

        .name-item {
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .name-item:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .name-item.selected {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .name-text {
            font-size: 24px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }

        .name-info {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }

        .name-score {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        .wuxing-tag {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
            margin: 2px;
            color: white;
        }

        .wuxing-jin { background: #ffd700; }
        .wuxing-mu { background: #32cd32; }
        .wuxing-shui { background: #1e90ff; }
        .wuxing-huo { background: #ff6347; }
        .wuxing-tu { background: #daa520; }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .footer {
            text-align: center;
            color: white;
            opacity: 0.8;
            font-size: 12px;
            margin-top: auto;
            padding-top: 20px;
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }

            .form-card {
                padding: 20px 15px;
            }

            .header h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎋 中文取名神器</h1>
            <p>基于五行八字的智能起名助手</p>
        </div>

        <div class="form-card">
            <form id="nameForm">
                <div class="form-group">
                    <label for="surname">姓氏</label>
                    <input type="text" id="surname" name="surname" placeholder="请输入姓氏" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="gender">性别</label>
                        <select id="gender" name="gender" required>
                            <option value="">请选择</option>
                            <option value="male">男孩</option>
                            <option value="female">女孩</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="nameLength">名字字数</label>
                        <select id="nameLength" name="nameLength" required>
                            <option value="1">单字名</option>
                            <option value="2" selected>双字名</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="birthDate">出生日期</label>
                    <input type="date" id="birthDate" name="birthDate" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="birthHour">出生时辰</label>
                        <select id="birthHour" name="birthHour" required>
                            <option value="">请选择</option>
                            <option value="0">子时 (23:00-01:00)</option>
                            <option value="1">丑时 (01:00-03:00)</option>
                            <option value="2">寅时 (03:00-05:00)</option>
                            <option value="3">卯时 (05:00-07:00)</option>
                            <option value="4">辰时 (07:00-09:00)</option>
                            <option value="5">巳时 (09:00-11:00)</option>
                            <option value="6">午时 (11:00-13:00)</option>
                            <option value="7">未时 (13:00-15:00)</option>
                            <option value="8">申时 (15:00-17:00)</option>
                            <option value="9">酉时 (17:00-19:00)</option>
                            <option value="10">戌时 (19:00-21:00)</option>
                            <option value="11">亥时 (21:00-23:00)</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="generate-btn" id="generateBtn">
                    开始起名
                </button>
            </form>
        </div>

        <div class="result-card" id="resultCard">
            <div class="result-title">为您推荐的好名字</div>
            <div id="nameResults"></div>
        </div>

        <div class="footer">
            <p>© 2024 中文取名神器 - 传承文化，智慧起名</p>
        </div>
    </div>

    <script>
        // 姓名数据库
        const nameDatabase = {
            male: {
                single: ['轩', '宇', '辰', '浩', '泽', '睿', '博', '翰', '昊', '煜', '晨', '阳', '俊', '哲', '磊', '鹏', '涛', '杰', '豪', '瑞'],
                double: [
                    ['志', '强'], ['建', '华'], ['俊', '杰'], ['浩', '然'], ['博', '文'],
                    ['志', '远'], ['天', '翊'], ['梓', '轩'], ['子', '涵'], ['雨', '泽'],
                    ['景', '行'], ['君', '昊'], ['铭', '轩'], ['哲', '瀚'], ['煜', '城'],
                    ['智', '宸'], ['绍', '辉'], ['嘉', '懿'], ['煜', '祺'], ['智', '渊']
                ]
            },
            female: {
                single: ['雨', '欣', '娅', '琳', '馨', '蕾', '婷', '慧', '洁', '雪', '梦', '莉', '颖', '静', '芳', '美', '丽', '娜', '敏', '佳'],
                double: [
                    ['雨', '婷'], ['梦', '琪'], ['雅', '静'], ['诗', '涵'], ['美', '琳'],
                    ['欣', '妍'], ['佳', '琦'], ['雅', '芙'], ['雨', '嘉'], ['美', '莲'],
                    ['思', '颖'], ['晓', '雪'], ['雅', '欣'], ['梦', '洁'], ['诗', '琪'],
                    ['雨', '薇'], ['可', '馨'], ['艺', '萍'], ['月', '婵'], ['嫦', '娥']
                ]
            }
        };

        // 五行属性数据
        const wuxingData = {
            '金': ['铭', '钰', '鑫', '瑞', '锦', '钧', '铨', '锐', '钊', '钦'],
            '木': ['林', '森', '杰', '栋', '柏', '松', '桂', '梓', '楠', '榕'],
            '水': ['涛', '洋', '江', '河', '海', '泽', '润', '清', '源', '浩'],
            '火': ['炎', '烈', '煜', '炜', '焱', '灿', '烨', '炫', '煊', '焯'],
            '土': ['坤', '培', '垚', '堃', '均', '坚', '墨', '增', '壮', '城']
        };

        // 五行相生相克关系
        const wuxingRelation = {
            '金': { strong: '土', weak: '火' },
            '木': { strong: '水', weak: '金' },
            '水': { strong: '金', weak: '土' },
            '火': { strong: '木', weak: '水' },
            '土': { strong: '火', weak: '木' }
        };

        // 根据出生日期计算五行缺失（简化版）
        function calculateWuxing(birthDate, birthHour) {
            const date = new Date(birthDate);
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            const hour = parseInt(birthHour);

            // 简化的五行计算（实际应该用更复杂的天干地支算法）
            const yearWuxing = ['金', '木', '水', '火', '土'][year % 5];
            const monthWuxing = ['木', '火', '土', '金', '水'][(month - 1) % 5];
            const dayWuxing = ['水', '火', '土', '金', '木'][(day - 1) % 5];
            const hourWuxing = ['金', '木', '水', '火', '土'][Math.floor(hour / 2) % 5];

            const wuxingCount = { '金': 0, '木': 0, '水': 0, '火': 0, '土': 0 };
            [yearWuxing, monthWuxing, dayWuxing, hourWuxing].forEach(w => wuxingCount[w]++);

            // 找出缺失或较弱的五行
            const minCount = Math.min(...Object.values(wuxingCount));
            const weakWuxing = Object.keys(wuxingCount).filter(w => wuxingCount[w] === minCount);

            return {
                distribution: wuxingCount,
                needWuxing: weakWuxing
            };
        }

        // 生成名字
        function generateNames(surname, gender, nameLength, birthDate, birthHour) {
            const wuxingInfo = calculateWuxing(birthDate, birthHour);
            const names = [];
            const database = nameDatabase[gender];
            const targetData = nameLength === '1' ? database.single : database.double;

            // 生成基础名字
            const baseNames = targetData.slice(0, 6);

            baseNames.forEach((nameData, index) => {
                let fullName, meaning, score, wuxingTags;

                if (nameLength === '1') {
                    fullName = surname + nameData;
                    meaning = `寓意美好，字形优美，读音响亮`;
                    score = 85 + Math.floor(Math.random() * 10);
                    wuxingTags = [getCharWuxing(nameData)];
                } else {
                    fullName = surname + nameData[0] + nameData[1];
                    meaning = `寓意${getMeaning(nameData[0])}，${getMeaning(nameData[1])}，整体和谐`;
                    score = 80 + Math.floor(Math.random() * 15);
                    wuxingTags = [getCharWuxing(nameData[0]), getCharWuxing(nameData[1])];
                }

                // 检查五行匹配度
                const wuxingMatch = checkWuxingMatch(wuxingTags, wuxingInfo.needWuxing);
                if (wuxingMatch) {
                    score += 5;
                    meaning += `，五行${wuxingMatch}，有助运势`;
                }

                names.push({
                    fullName,
                    meaning,
                    score,
                    wuxingTags
                });
            });

            // 按分数排序
            return names.sort((a, b) => b.score - a.score);
        }

        // 获取字的五行属性（简化版）
        function getCharWuxing(char) {
            for (const [wuxing, chars] of Object.entries(wuxingData)) {
                if (chars.includes(char)) return wuxing;
            }
            // 如果找不到，根据字的特征简单判断
            const metalChars = '金钅';
            const woodChars = '木艹';
            const waterChars = '水氵';
            const fireChars = '火灬';
            const earthChars = '土石';

            if (metalChars.split('').some(c => char.includes(c))) return '金';
            if (woodChars.split('').some(c => char.includes(c))) return '木';
            if (waterChars.split('').some(c => char.includes(c))) return '水';
            if (fireChars.split('').some(c => char.includes(c))) return '火';
            if (earthChars.split('').some(c => char.includes(c))) return '土';

            return ['金', '木', '水', '火', '土'][Math.floor(Math.random() * 5)];
        }

        // 检查五行匹配
        function checkWuxingMatch(nameTags, needWuxing) {
            for (const tag of nameTags) {
                if (needWuxing.includes(tag)) {
                    return `补${tag}`;
                }
                // 检查相生关系
                for (const need of needWuxing) {
                    if (wuxingRelation[tag] && wuxingRelation[tag].strong === need) {
                        return `生${need}`;
                    }
                }
            }
            return null;
        }

        // 获取字的寓意
        function getMeaning(char) {
            const meanings = {
                '志': '志向远大', '强': '强健有力', '建': '建功立业', '华': '才华横溢',
                '俊': '俊美才智', '杰': '杰出优秀', '浩': '浩瀚广大', '然': '自然天成',
                '博': '博学多才', '文': '文采斐然', '远': '志向远大', '天': '天赋异禀',
                '翊': '辅助帮扶', '梓': '生机勃勃', '轩': '气宇轩昂', '子': '君子之风',
                '涵': '内涵丰富', '雨': '恩泽如雨', '景': '前景光明', '行': '德行高尚',
                '君': '君子风范', '昊': '胸怀如昊天', '铭': '铭记于心', '哲': '哲思明理',
                '瀚': '学识渊博', '煜': '光明照耀', '城': '坚强如城', '智': '智慧过人',
                '宸': '帝王之相', '绍': '继承发扬', '辉': '光辉灿烂', '嘉': '品德嘉美',
                '懿': '德行美好', '祺': '吉祥如意', '渊': '深沉如渊',
                '婷': '婷婷玉立', '梦': '梦想成真', '琪': '珍贵美玉', '雅': '优雅高贵',
                '静': '恬静美好', '诗': '诗意盎然', '美': '美丽动人', '琳': '美玉无瑕',
                '欣': '欣欣向荣', '妍': '美丽聪慧', '佳': '佳人才子', '琦': '珍奇美好',
                '芙': '芙蓉出水', '嘉': '嘉言懿行', '莲': '莲花高洁', '思': '思维敏捷',
                '颖': '聪颖过人', '晓': '晓畅明理', '雪': '纯洁如雪', '洁': '洁净无瑕',
                '琪': '美玉珍贵', '薇': '蔷薇芬芳', '可': '可爱可人', '馨': '温馨芳香',
                '艺': '才艺双全', '萍': '萍水相逢', '月': '月圆花好', '婵': '婵娟美好',
                '嫦': '嫦娥奔月', '娥': '娥眉月貌'
            };
            return meanings[char] || '寓意美好';
        }

        // 表单提交处理
        document.getElementById('nameForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const formData = new FormData(this);
            const surname = formData.get('surname').trim();
            const gender = formData.get('gender');
            const nameLength = formData.get('nameLength');
            const birthDate = formData.get('birthDate');
            const birthHour = formData.get('birthHour');

            if (!surname || !gender || !nameLength || !birthDate || !birthHour) {
                alert('请填写完整信息');
                return;
            }

            // 显示加载状态
            const generateBtn = document.getElementById('generateBtn');
            const resultCard = document.getElementById('resultCard');
            const nameResults = document.getElementById('nameResults');

            generateBtn.disabled = true;
            generateBtn.textContent = '正在生成...';

            resultCard.classList.add('show');
            nameResults.innerHTML = '<div class="loading">正在为您精心挑选好名字</div>';

            // 模拟生成延迟
            setTimeout(() => {
                const names = generateNames(surname, gender, nameLength, birthDate, birthHour);
                displayResults(names);

                generateBtn.disabled = false;
                generateBtn.textContent = '重新起名';
            }, 2000);
        });

        // 显示结果
        function displayResults(names) {
            const nameResults = document.getElementById('nameResults');

            nameResults.innerHTML = names.map((name, index) => `
                <div class="name-item" onclick="selectName(this)">
                    <div class="name-text">
                        ${name.fullName}
                        <span class="name-score">${name.score}分</span>
                    </div>
                    <div class="name-info">
                        <div style="margin-bottom: 5px;">
                            ${name.meaning}
                        </div>
                        <div>
                            五行：${name.wuxingTags.map(tag => `<span class="wuxing-tag wuxing-${getWuxingClass(tag)}">${tag}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // 获取五行样式类名
        function getWuxingClass(wuxing) {
            const classMap = { '金': 'jin', '木': 'mu', '水': 'shui', '火': 'huo', '土': 'tu' };
            return classMap[wuxing] || 'tu';
        }

        // 选择名字
        function selectName(element) {
            document.querySelectorAll('.name-item').forEach(item => {
                item.classList.remove('selected');
            });
            element.classList.add('selected');
        }

        // 设置默认日期为今天
        document.getElementById('birthDate').valueAsDate = new Date();
    </script>
</body>
</html>